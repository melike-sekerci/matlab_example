clear
clc
a=[1 2 -1 -6;-2 1 3 5;2 -2 -1 3]
[len,~]=size(a)
if(a(1,1)~=1)
    a(1,:)=a(1,:)/a(1,1)
end
for i=2:len
  a(i,:)=-a(i,1)*a(1,:)+a(i,:)
  a(i,:)=(a(i,:)/(a(i,i)))
if a(2,2)==1
    a(3,:)=-a(3,2)*a(2,:)+a(3,:)
end
  
a(1,:)=-a(1,i)*a(i,:)+a(1,:)

end
a(2,:)=-a(2,3)*a(3,:)+a(2,:)

x1=a(1,4)
x2=a(2,4)
x3=a(3,4)